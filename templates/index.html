<!DOCTYPE html>
<html lang="en">

<head>
    <title>MY index</title>
    <!-- 页面图标 -->
    <link rel="shortcut icon" href="{% static 'img/avater_240.jpg' %}">
    <!-- Fontawesome Icons v6.2.0 -->
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.0/css/all.css" rel="stylesheet">
    <!-- Roboto Font -->
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700&display=swap"
        rel="stylesheet">
    <!-- CSS File -->
    <link rel="stylesheet" href="{% static 'css/index_style.css' %}">
    <!-- markdown-it-->
    <script src="https://cdn.jsdelivr.net/npm/markdown-it@13.0.1/dist/markdown-it.min.js"></script>
    <!--cdn引用highlight并调用-->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css">
    <script src="http://cdn.bootcss.com/highlight.js/8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

</head>

<body>
    <div class="container">
        <nav>
            <div class="brand">
                <img src="{% static 'img/avater_240.jpg' %}" alt="">
                <p>
                    Good day,
                    <span>{{ username }}!</span>
                </p>
            </div>
            <hr class="line">
            <ul class="list">
                <li class="active">
                    <i class="fa-solid fa-home"></i>
                    <span>Home</span>
                </li>
                <li>
                    <i class="fa-solid fa-list"></i>
                    <span>Category</span>
                </li>
                <li>
                    <i class="fa-solid fa-clock"></i>
                    <span>Archive</span>
                </li>
                <li>
                    <i class="fa-solid fa-user"></i>
                    <span>Accounts</span>
                </li>
                <li>
                    <i class="fa-solid fa-filter"></i>
                    <span><a href='/homepage'>Backend</a></span>
                </li>
                <hr class="line">
                <li>
                    {% if username == 'Guest' %}
                    <i class="fa-solid fa-right-to-bracket"></i>
                    <span><a href="{% url 'login' %}">Login</a></span>
                    {% else %}
                    <i class="fa-solid fa-right-from-bracket"></i>
                    <span><a href="{% url 'logout' %}">Logout</a></span>
                    {% endif %}
                </li>
            </ul>
        </nav>
        <div class="main_content">
            <div class="markdown-main">
                <div class="markdown-title">
                    {{markdown.title}}
                </div>
                <div class="markdown-author">
                    作者:{{markdown.author}} 发表时间:{{markdown.created_at}}
                </div>
                <div class="markdown-content">
                    {{ markdown.content }}
                </div>
            </div>
            <div class="main-footer">
                <button type="button">上一篇</button>
                <button type="button">下一篇</button>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
        var markdownContent = document.querySelector('.markdown-content');
        marked.setOptions({
            highlight: function (code) {
                return hljs.highlightAuto(code).value;
            }
        });
        markdownContent.innerHTML = marked.parse(markdownContent.innerHTML);

    </script>
</body>

</html>