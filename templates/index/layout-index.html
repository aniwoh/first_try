<!DOCTYPE html>
<html lang="en">

<head>
    <title>MY index</title>
    <!-- 页面图标 -->
    <link rel="shortcut icon" href="{% static 'img/avater_240.jpg' %}">
    <!-- Fontawesome Icons v6.2.0 -->
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.0/css/all.css" rel="stylesheet">
    <!-- CSS File -->
    <link rel="stylesheet" href="{% static 'css/layout-index.css' %}">
    <!--cdn引用highlight并调用-->
    <link href="https://cdn.bootcdn.net/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css" rel="stylesheet">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <!--cdn引用showdown进行解析-->
    <script src="https://cdn.bootcdn.net/ajax/libs/showdown/2.1.0/showdown.js"></script>
    <link href="//unpkg.com/layui@2.9.7/dist/css/layui.css" rel="stylesheet">
    <script src="//unpkg.com/layui@2.9.7/dist/layui.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>


</head>

<body>
    <div class="background"></div>
    <div class="container">
        <nav>
            <div class="brand">
                <a href="/index">
                <img src="{% static 'img/avater_240.jpg' %}" alt="">
                </a>
                <p>
                    Good day,
                    <span>
                        {% if user.is_authenticated %}
                            {{ user.username }}
                        {% else %}
                            Guest
                        {% endif %}
                    </span>
                </p>
            </div>
            <hr class="line">
            <ul class="list">
                <li>
                    <i class="fa-solid fa-home"></i>
                    <span><a href="/index/">Home</a></span>
                </li>
                <li>
                    <i class="fa-solid fa-list"></i>
                    <span><a href="/index/category">Category</a></span>
                </li>
                <li>
                    <i class="fa-solid fa-clock"></i>
                    <span><a href="">Archive</a></span>
                </li>
                <li>
                    <i class="fa-solid fa-user"></i>
                    <span><a href="">Accounts</a></span>
                </li>
                <li>
                    <i class="fa-solid fa-filter"></i>
                    <span><a href='/homepage'>Backend</a></span>
                </li>
                <hr class="line">
                <li>
                    {% if user.is_authenticated %}
                    <i class="fa-solid fa-right-from-bracket"></i>
                    <span><a href="{% url 'logout' %}">Logout</a></span>
                    {% else %}
                    <i class="fa-solid fa-right-to-bracket"></i>
                    <span><a href="{% url 'login' %}">Login</a></span>
                    {% endif %}
            </ul>
        </nav>
        <div class="main_content">
            {% block content %}
            {% endblock %}
        </div>
    </div>
</body>
<script>
    var currentPage = window.location.pathname;
    var listItems = document.querySelectorAll('.list li');
    listItems.forEach(function(item) {
        var link = item.querySelector('a').getAttribute('href');
        if (link === currentPage) {
            item.classList.add('active');
        }
    });
</script>
</html>